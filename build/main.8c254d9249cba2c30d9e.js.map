{"version":3,"sources":["webpack:///./js/input.js","webpack:///./js/fetchBooks.js"],"names":["defaultModules","set","PNotifyMobile","defaults","styling","icons","closerHover","refsInput","document","querySelector","refsSearchResults","addEventListener","debounce","event","innerHTML","searchQuery","bookSearchName","target","value","fetch","then","result","json","results","length","insertAdjacentHTML","reduce","acc","item","name","createBooksListTemplate","alert","text","type","delay","stack","Stack","dir1","catch","console","log"],"mappings":"qMAGAA,iBAAeC,IAAIC,EAAe,IAMlCC,WAASC,QAAU,cACnBD,WAASE,MAAQ,cACjBF,WAASG,aAAc,EAEvB,IAAMC,EAAYC,SAASC,cAAc,sBACnCC,EAAoBF,SAASC,cAAc,uBAsCjDF,EAAUI,iBAAiB,QAASC,KApCpC,SAAsBC,GAClBH,EAAkBI,UAAY,GAC9B,IClB+BC,EDkBzBC,EAAiBH,EAAMI,OAAOC,OClBLH,EDmBpBC,EClBJG,MAAM,iDACsCJ,GACnDK,MAAK,SAAAC,GAAM,OAAIA,EAAOC,WDiBjBF,MAAK,SAAAG,GACEA,EAAQC,QAAU,IAClBd,EAAkBe,mBACd,YAkBpB,SAAiCF,GAQ7B,MANF,yBACAA,EAAQG,QAAO,SAACC,EAAKC,GAEjB,OADAD,GAAO,OAAOC,EAAKC,KAAhB,UAEF,IACH,QAxBgBC,CAAwBP,IAG5BA,EAAQC,OAAS,IACjBO,gBAAM,CACFC,KAAM,8DACNC,KAAM,QACNC,MAAO,IACPC,MAAO,IAAIC,QAAM,CACbC,KAAM,YAKrBC,MAAMC,QAAQC,OAcoC,Q","file":"main.8c254d9249cba2c30d9e.js","sourcesContent":["import debounce from 'lodash.debounce';\nimport { alert, defaultModules } from '@pnotify/core/dist/PNotify.js';\nimport * as PNotifyMobile from '@pnotify/mobile/dist/PNotifyMobile.js';\ndefaultModules.set(PNotifyMobile, {});\nimport { defaults } from '@pnotify/core';\nimport '@pnotify/core/dist/BrightTheme.css';\nimport { Stack } from '@pnotify/core';\nimport fetchBooks from './fetchBooks.js';\n\ndefaults.styling = 'brighttheme';\ndefaults.icons = 'brighttheme';\ndefaults.closerHover = true;\n\nconst refsInput = document.querySelector('.book-search-input');\nconst refsSearchResults = document.querySelector('.book-search-result');\n\nfunction displayBooks(event) {\n    refsSearchResults.innerHTML = '';\n    const bookSearchName = event.target.value;\n    fetchBooks(bookSearchName)\n        .then(results => {\n            if (results.length <= 10) {\n                refsSearchResults.insertAdjacentHTML(\n                    'beforeend',\n                    createBooksListTemplate(results),\n                ) \n            };\n            if (results.length > 10) {\n                alert({\n                    text: 'Too many matches found. Please enter a more specific query!',\n                    type: 'error',\n                    delay: 1000,\n                    stack: new Stack({\n                        dir1: 'up',\n                    }),\n                })\n            };\n        })\n        .catch(console.log)\n};\n\nfunction createBooksListTemplate(results) {\n  const template =\n  '<ul class=\"book-list\">' +\n  results.reduce((acc, item) => {\n      acc += `<li>${item.name}</li>`;\n      return acc;\n    }, '') +\n    '</ul>';\n    return template;\n};\n\nrefsInput.addEventListener('input', debounce(displayBooks, 3000));","export default function fetchBooks(searchQuery) {\n    return fetch(\n      `https://www.googleapis.com/books/v1/volumes?q=${searchQuery}`,\n  ).then(result => result.json());\n};"],"sourceRoot":""}